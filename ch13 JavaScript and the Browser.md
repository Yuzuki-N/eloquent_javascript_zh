> 网络背后的梦想是一个通过共享信息进行交流的信息空间。它是至关重要的:一个超文本链接可以指向任何东西，无论是个人的、本地的还是全球的，无论是草稿还是精雕细琢过的。 - Tim Berners-Lee, The World Wide Web: A very short personal history

![pic](https://eloquentjavascript.net/img/chapter_picture_13.jpg)

这本书的下一章将讨论web浏览器。没有web浏览器，就不会有JavaScript。即使有，也没有人会注意到它。

Web技术从一开始就是去中心化的，不仅在技术上如此，在演进的方式上也是如此。各种浏览器供应商都以一些特别的、有时是不经过深思熟虑的方式添加了新功能，这些新功能有时会被其他人采用，并最终成为标准。

这既是福也是祸。 一方面，不让中央控制整个系统，但可以通过各方面以松散的方式协作（或偶尔公开敌视）进行改进。 另一方面，Web发展的随意性意味着产生的系统并不完全是内部一致性的光辉典范。 其中的某些部分令人困惑，构思不佳。

## 网络和互联网

自从20世纪50年代以来，计算机网络就已经出现了。如果你在两台或多台计算机之间连接电缆，并允许它们通过这些电缆来回发送数据，你可以做各种奇妙的事情。

如果在同一栋建筑里连接两台机器可以让我们做一些美妙的事情，那么连接世界各地的机器应该会更好。开始实现这一愿景的技术是在20世纪80年代开发的，由此产生的网络被称为Internet。它实现了自己的承诺。

一台计算机可以利用这个网络向另一台计算机发送比特。为了有效的通信，两端的计算机必须知道这些位应该代表什么。任何给定的比特序列的意义完全取决于它试图表达的东西的类型和所使用的编码机制

网络协议描述了通过网络进行通信的方式。 有的些协议可以发送电子邮件，提取电子邮件，共享文件，甚至控制恰好被恶意软件感染的计算机。

例如，超文本传输协议(Hypertext Transfer Protocol，HTTP)是一种用于检索命名资源(信息块，如网页或图片)的协议。它指定发出请求的一方应该以这样的一行开头，命名它试图使用的资源和协议版本

* GET /index.html HTTP/1.1 
  
关于请求者如何在请求中包含更多信息，以及返回资源的另一方如何打包其内容，还有很多规则。我们将在第18章更详细地讨论HTTP。

大多数协议都建立在其他协议之上。HTTP将网络视为流设备，您可以将位放入其中，并让它们以正确的顺序到达正确的目的地。正如我们在第11章中看到的，确保这些事情已经是一个相当困难的问题。

TCP连接的工作方式如下:一台计算机必须等待或侦听其他计算机开始与它对话。为了能够同时在一台机器上监听不同类型的通信，每个监听器都有一个与之相关联的号码(称为端口)。大多数协议都指定了默认情况下应该使用哪个端口。例如，当我们想要使用SMTP协议发送电子邮件时，我们发送电子邮件的机器应该在25号端口上监听。

然后，另一台计算机可以通过使用正确的端口号连接到目标计算机来建立连接。如果目标计算机可以被访问，并且正在侦听该端口，则连接创建成功。侦听的计算机称为服务器，发起连接的计算机称为客户端。

这样的连接就像一个双向管道，比特可以通过它流动，两端的机器可以把数据放进去。一旦比特成功传输，它们就可以被另一边的机器再次读出。这是一种方便的模型。可以说，TCP提供了网络的抽象。

## THE WEB

万维网(不要与整个因特网混淆)是一组协议和格式的集合，它允许我们在浏览器中访问网页。名称中的“ Web”部分是指这样的页面，它们可以轻松地彼此链接，从而连接成一个巨大的网格，用户可以在其中任意浏览这一事实。

要加入互联网，您所需要做的就是将一台机器连接到Internet，并让它使用HTTP协议监听端口80，以便其他计算机能够发起请求。

Web上的每个页面被命名为统一资源定位器(Uniform Resource Locator，URL)，如下所示：

<pre>
  http://eloquentjavascript.net/13_browser.html
 |      |                      |               |
 protocol       server               path
</pre>

第一部分告诉我们，此URL使用HTTP协议（相对于加密的HTTP（https：//））。然后是确定我们从哪个服务器请求文档的部分。最后是一个路径字符串，它标识我们感兴趣的特定文档(或资源)。

连接到Internet的机器获得一个IP地址，这是一个可以用来向该机器发送消息的数字，看起来像149.210.142.219或2001:4860:4860::8888。但是一些或多或少随机的数字列表很难记住，而且键入起来也很麻烦，所以你可以为一个或一组特定的地址注册一个域名。我注册了`eloquentjavascript.net`，指向我控制的一台机器的IP地址，因此可以使用该域名为网页提供服务。


如果您在浏览器的地址栏中输入该URL，浏览器将尝试检索该URL并显示该页面。 首先，您的浏览器必须找出`eloquentjavascript.net`所指的地址。 然后，使用HTTP协议，它将在该地址与服务器建立连接，并请求资源`/13_browser.html`。 如果一切顺利，服务器将发送回一个文件，然后您的浏览器将其显示在屏幕上。

## HTML

HTML (Hypertext Markup Language，超文本标记语言)是一种用于web页面的文件格式。HTML文件包含文本，以及为文本提供结构的标记，这些标记描述链接、段落和标题等内容。

HTML看起来是这样子的：
```HTML
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>My home page</title>
  </head>
  <body>
    <h1>My home page</h1>
    <p>Hello, I am Marijn and this is my home page.</p>
    <p>I also wrote a book! Read it
      <a href="http://eloquentjavascript.net">here</a>.</p>
  </body>
</html>
```

标记用尖括号(<和>，小于和大于号)包裹，提供关于文档结构的信息。另一种文本是纯文本。

该文档以<!doctype html>开始，它告诉浏览器将页面解释为现代html，而不是过去使用的各种方言。


HTML文档有一个头部和一个主体。头部包含关于文档的信息，而主体包含文档本身。在本例中，`head`声明该文档的标题是我的主页，并且它使用UTF-8编码，这是一种将Unicode文本编码为二进制数据的方法。文档主体包含一个标题(`<h1>`，意思是标题1 `<h2>`到`<h6>`产生副标题)和两个段落(`<p>`)。

标签有几种形式。 诸如正文，段落或链接之类的元素以诸如`<p>`的开始标记开始，以诸如`</ p>`的结束标记结束。 一些开头的标记，例如链接（`<a>`），以`name =“ value”`对的形式包含额外的信息。 这些称为属性。 在这种情况下，链接的目标用`href =“ http://eloquentjavascript.net”`表示，其中`href`代表“超文本引用”。

有些类型的标签不包含任何内容，因此不需要闭标签。`<meta charset="utf-8">`就是一个例子。

为了能够在文档的文本中包含尖括号，即使它们在HTML中具有特殊的含义，还必须引入另一种形式的特殊符号。< 写作 `&lt;`(小于)，> 写为`&gt;`(大于)。在HTML中，与(&)字符后跟名称或字符代码和分号(;)被称为实体，并将被其编码的字符取代。

这类似于在JavaScript字符串中使用反斜杠的方式。因为这种机制也赋予了`&`字符特殊的含义，所以它们需要被转义为`&amp;`。在属性值内部，用双引号括起来，`&quot;`可以用来插入一个实际的引号字符。

HTML以一种强大的容错方式进行解析。当应该存在的标记缺失时，浏览器会重新构建它们。完成这项工作的方式已经标准化，您可以依赖所有现代浏览器以同样的方式完成这项工作。

下面的HTML文件将与前面显示的HTML文件一样处理：

```HTML
<!doctype html>

<meta charset=utf-8>
<title>My home page</title>

<h1>My home page</h1>
<p>Hello, I am Marijn and this is my home page.
<p>I also wrote a book! Read it
  <a href=http://eloquentjavascript.net>here</a>.
```

